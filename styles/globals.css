@tailwind base;
@tailwind components;
@tailwind utilities;

/* remove arrows from type number input fields */
@layer base {
  input[type='number']::-webkit-outer-spin-button,
  input[type='number']::-webkit-inner-spin-button,
  input[type='number'] {
    -webkit-appearance: none;
    margin: 0;
    -moz-appearance: textfield !important;
  }
}

/* Updated to use new design system colors */
.sidebar-item {
  @apply p-3 px-9 flex cursor-pointer items-center;
}

.page-title {
  @apply font-bold text-gray-700 text-h5 uppercase;
}

.info-item {
  @apply py-3.5;
}

.info-item > label {
  @apply font-bold text-body-sm uppercase text-neutral-dark whitespace-nowrap;
}

.label {
  @apply font-bold text-body-xs uppercase text-neutral-dark whitespace-nowrap;
}

.info-item p {
  @apply whitespace-nowrap;
}

/* Hide scrollbar for Chrome, Safari and Opera */
.scrollbar-hidden::-webkit-scrollbar {
  display: none;
}

/* Hide scrollbar for IE, Edge and Firefox */
.scrollbar-hidden {
  -ms-overflow-style: none;
  /* IE and Edge */
  scrollbar-width: none;
  /* Firefox */
}

.required {
  @apply after:content-['*'] after:ml-0.5 after:text-lobster;
}

.basic-input {
  @apply block w-full px-3.5 py-2.5 text-body-md font-normal text-neutral-darker bg-white bg-clip-padding border border-solid border-neutral-light rounded-lg shadow-sm transition ease-in-out m-0 focus:text-neutral-darkest focus:bg-white focus:border-blend-dark focus:outline-none;
}

@layer components {
  [type="checkbox"]:checked {
    background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='%2300467F' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
  }

  [type="radio"]:checked {
    background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='%2300467F' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e");
  }

  [type="checkbox"],
  [type="radio"] {
    @apply focus:ring-0 focus:ring-offset-0;
  }

  /* Updated to use sea color which is #00467F - same as the old sargood-blue */
  [type="checkbox"],
  [type="checkbox"]:checked,
  [type="checkbox"]:checked:hover,
  [type="checkbox"]:checked:focus,
  [type="checkbox"]:indeterminate:hover,
  [type="radio"],
  [type="radio"]:checked,
  [type="radio"]:checked:hover,
  [type="radio"]:checked:focus {
    @apply border-sea;
  }
}

.auto-save-input {
  @apply focus:outline-none focus:border-sky border border-transparent hover:border-neutral-light rounded;
}

/* For Webkit-based browsers (Chrome, Safari and Opera) */
.scrollbar-hide::-webkit-scrollbar {
  display: none;

  /* For IE, Edge and Firefox */
  -ms-overflow-style: none;
  /* IE and Edge */
  scrollbar-width: none;
  /* Firefox */
}

/* Updated rich text container styles */
.rich-text-container * {
  @apply text-body-md;
}

.rich-text-container {
  @apply border border-solid border-neutral-light rounded-lg p-2;
}

.rich-text-container p {
  @apply my-2;
}

.rich-text-container h1 {
  @apply text-h1 font-bold;
}

.rich-text-container h2 {
  @apply text-h2 font-bold;
}

.rich-text-container h3 {
  @apply text-h3 font-bold;
}

.rich-text-container h4 {
  @apply text-h4 font-bold;
}

.rich-text-container h5 {
  @apply text-h5 font-bold;
}

.rich-text-container h6 {
  @apply text-h6 font-bold;
}

.rich-text-container ul, ol {
  @apply list-disc list-inside ml-10;
}

.rich-text-container {
  @apply font-normal; /* Reset to normal weight */
}

/* Updated date range styles to use new color system */
.date-range-popper {
  left: 50% !important;
  transform: translateX(-50%) !important;
  top: 100% !important;
  margin-top: 8px !important;
}

.date-range-calendar {
  font-family: "Open Sans", sans-serif;
  border: 1px solid #cccccc; /* neutral-light */
  border-radius: 0.375rem;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.date-range-calendar .react-datepicker__header {
  background-color: #FFCE00; /* sun color */
  color: #333333; /* neutral-darker */
  border-bottom: 1px solid #cccccc; /* neutral-light */
}

.date-range-calendar .react-datepicker__current-month,
.date-range-calendar .react-datepicker__day-name {
  color: #333333; /* neutral-darker */
}

.date-range-calendar .react-datepicker__day--selected,
.date-range-calendar .react-datepicker__day--in-selecting-range,
.date-range-calendar .react-datepicker__day--in-range {
  background-color: #00467F; /* sea color */
  color: white;
}

.date-range-calendar .react-datepicker__day--keyboard-selected {
  background-color: #00467F; /* sea color */
  color: white;
}

.date-range-calendar .react-datepicker__day:hover {
  background-color: #00467F; /* sea color */
  color: white;
}

.date-range-wrapper {
  display: inline-block;
}

.react-datepicker__triangle {
  display: block !important;
  transform: translate(50px, 0) !important;
}

.react-datepicker__triangle::before,
.react-datepicker__triangle::after {
  border-bottom-color: #FFCE00 !important; /* sun color */
}

.react-datepicker__navigation-icon::before {
  border-color: #333333; /* neutral-darker */
}

.react-datepicker__navigation:hover .react-datepicker__navigation-icon::before {
  border-color: #00467F; /* sea color */
}

.react-datepicker__day {
  color: #333333; /* neutral-darker */
}

.react-datepicker__day--outside-month {
  color: #999999; /* neutral */
}
/* Health Information Responsive Styles */
/* Add these to your global CSS or component-specific styles */

.health-info-container {
  @apply space-y-6;
}

.health-info-header {
  @apply flex flex-col sm:flex-row sm:justify-between py-6 sm:py-10 space-y-2 sm:space-y-0;
}

.health-info-title {
  @apply text-lg sm:text-xl font-bold text-gray-900;
}

.health-info-last-updated {
  @apply text-gray-500 font-bold text-sm sm:text-base;
}

.participant-numbers-grid {
  @apply grid grid-cols-1 lg:grid-cols-2 gap-4 p-4 sm:p-6 lg:p-10 rounded-2xl bg-slate-400 font-bold;
}

.participant-number-row {
  @apply flex flex-col sm:flex-row sm:items-center text-gray-700 space-y-2 sm:space-y-0;
}

.participant-number-label {
  @apply text-sm sm:text-base flex-shrink-0;
}

.participant-number-value {
  @apply h-fit w-full sm:w-fit bg-white p-2 px-4 sm:px-8 rounded-md sm:ml-6 text-center text-gray-900;
}

.participant-number-na {
  @apply sm:w-40;
}

.health-categories-container {
  @apply space-y-4;
}

.health-categories-title {
  @apply text-lg font-semibold text-gray-900;
}

.health-category-card {
  @apply bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden;
}

.health-category-header {
  @apply w-full px-4 py-3 sm:px-6 sm:py-4 flex items-center justify-between hover:bg-gray-50 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset;
}

.health-category-header-content {
  @apply flex items-center space-x-3;
}

.health-category-title {
  @apply text-sm sm:text-base font-medium text-gray-900 text-left;
}

.health-category-status-badge {
  @apply inline-flex items-center px-2 py-1 rounded text-xs font-medium;
}

.health-category-status-normal {
  @apply bg-green-100 text-green-800;
}

.health-category-status-critical {
  @apply bg-red-100 text-red-800;
}

.health-category-chevron {
  @apply w-5 h-5 text-gray-400 transition-transform duration-200;
}

.health-category-content {
  @apply px-4 pb-4 sm:px-6 sm:pb-6 border-t border-gray-100;
}

.health-conditions-list {
  @apply space-y-3 pt-4;
}

.health-condition-item {
  @apply flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 rounded-lg space-y-2 sm:space-y-0;
}

.health-condition-item-even {
  @apply bg-gray-50;
}

.health-condition-item-odd {
  @apply bg-white;
}

.health-condition-text {
  @apply text-sm sm:text-base font-medium sm:font-normal text-gray-700 sm:max-w-[70%];
}

.health-condition-answer {
  @apply flex justify-start sm:justify-end;
}

.health-condition-badge {
  @apply inline-flex items-center px-2 py-1 rounded text-xs font-medium;
}

.health-condition-badge-yes {
  @apply bg-green-100 text-green-800;
}

.health-condition-badge-no {
  @apply bg-red-100 text-red-800;
}

.health-info-empty-state {
  @apply bg-yellow-50 border border-yellow-200 rounded-lg py-6 px-6 mb-4;
}

.health-info-empty-title {
  @apply text-lg font-medium leading-tight mb-2 text-yellow-800;
}

.health-info-empty-description {
  @apply text-yellow-700 text-sm;
}

/* Mobile optimizations */
@media (max-width: 640px) {
  .health-category-header {
    @apply px-3 py-2;
  }
  
  .health-category-title {
    @apply text-sm;
  }
  
  .health-category-content {
    @apply px-3 pb-3;
  }
  
  .health-condition-item {
    @apply p-2;
  }
  
  .participant-numbers-grid {
    @apply p-3 gap-3;
  }
}

/* Smooth accordion transitions */
.accordion-item-wrapper {
  transform: translateZ(0);
  will-change: transform;
}

.accordion-item {
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Prevent content shift during scroll */
[data-accordion-content] {
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Smooth container scrolling */
#main-content-container {
  overflow-y: auto;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
}

/* Optimize accordion rendering */
.accordion-item-wrapper > * {
  transform: translateZ(0);
}

/* Formatted Description Styles */

/* Base formatted description container */
.formatted-description {
  @apply text-gray-700;
}

/* Paragraph spacing */
.formatted-description p {
  @apply my-2 first:mt-0 last:mb-0;
}

/* Headers */
.formatted-description h4 {
  @apply font-semibold text-gray-900 mt-4 mb-2 first:mt-0;
}

/* Unordered lists (bullet points) */
.formatted-description ul {
  @apply list-disc list-outside ml-5 my-2 space-y-1;
}

.formatted-description ul li {
  @apply text-gray-700 pl-1;
}

/* Ordered lists (numbered) */
.formatted-description ol {
  @apply list-decimal list-outside ml-5 my-2 space-y-1;
}

.formatted-description ol li {
  @apply text-gray-700 pl-1;
}

/* Horizontal rules */
.formatted-description hr {
  @apply my-4 border-t border-gray-200;
}

/* Description Editor Styles */
.description-editor textarea {
  @apply text-sm leading-relaxed;
}

/* Ensure proper list rendering in the rich text container */
.rich-text-container ul,
.rich-text-container ol {
  @apply list-inside ml-4 my-2 space-y-1;
}

.rich-text-container ul {
  @apply list-disc;
}

.rich-text-container ol {
  @apply list-decimal;
}

.audit-log-container {
  background: #fff;
  border-radius: 8px;
  padding: 24px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  margin-top: 24px;
}

.audit-log-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
  padding-bottom: 16px;
  border-bottom: 2px solid #e5e7eb;
}

.audit-log-header h3 {
  margin: 0;
  font-size: 20px;
  font-weight: 600;
  color: #111827;
}

.audit-log-controls {
  display: flex;
  align-items: center;
  gap: 16px;
}

.toggle-internal-notes {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  font-size: 14px;
  color: #6b7280;
}

.toggle-internal-notes input[type="checkbox"] {
  cursor: pointer;
}

.btn-add-note {
  background: #3b82f6;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: background 0.2s;
}

.btn-add-note:hover {
  background: #2563eb;
}

/* Add Note Form */
.add-note-form {
  background: #f9fafb;
  border: 1px solid #e5e7eb;
  border-radius: 6px;
  padding: 20px;
  margin-bottom: 24px;
}

.add-note-form .form-group {
  margin-bottom: 16px;
}

.add-note-form label {
  display: block;
  font-size: 14px;
  font-weight: 500;
  color: #374151;
  margin-bottom: 6px;
}

.add-note-form .form-control {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid #d1d5db;
  border-radius: 6px;
  font-size: 14px;
  font-family: inherit;
  transition: border-color 0.2s;
}

.add-note-form .form-control:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.add-note-form textarea.form-control {
  resize: vertical;
  min-height: 80px;
}

.form-actions {
  display: flex;
  gap: 12px;
  justify-content: flex-end;
  margin-top: 16px;
}

.btn-primary,
.btn-secondary {
  padding: 10px 20px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  border: none;
  transition: all 0.2s;
}

.btn-primary {
  background: #3b82f6;
  color: white;
}

.btn-primary:hover:not(:disabled) {
  background: #2563eb;
}

.btn-primary:disabled {
  background: #9ca3af;
  cursor: not-allowed;
}

.btn-secondary {
  background: #f3f4f6;
  color: #374151;
}

.btn-secondary:hover {
  background: #e5e7eb;
}

/* Audit Log Timeline */
.audit-log-timeline {
  position: relative;
}

.audit-log-timeline::before {
  content: '';
  position: absolute;
  left: 15px;
  top: 8px;
  bottom: 8px;
  width: 2px;
  background: #e5e7eb;
}

.audit-log-entry {
  position: relative;
  display: flex;
  gap: 16px;
  padding: 16px 0;
  border-bottom: 1px solid #f3f4f6;
}

.audit-log-entry:last-child {
  border-bottom: none;
}

.audit-log-entry.internal-note {
  background: #fef3c7;
  margin-left: -12px;
  margin-right: -12px;
  padding-left: 12px;
  padding-right: 12px;
  border-radius: 6px;
}

.entry-icon {
  flex-shrink: 0;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: white;
  border: 2px solid #e5e7eb;
  border-radius: 50%;
  font-size: 16px;
  z-index: 1;
}

.internal-note .entry-icon {
  background: #fef3c7;
  border-color: #fbbf24;
}

.entry-content {
  flex: 1;
  min-width: 0;
}

.entry-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 8px;
  gap: 12px;
}

.entry-meta {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 8px;
  font-size: 13px;
}

.user-badge {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.user-badge-admin {
  background: #dbeafe;
  color: #1e40af;
}

.user-badge-guest {
  background: #d1fae5;
  color: #065f46;
}

.user-badge-system {
  background: #e5e7eb;
  color: #374151;
}

.entry-user {
  font-weight: 500;
  color: #111827;
}

.entry-timestamp {
  color: #6b7280;
  font-size: 12px;
}

.entry-category {
  background: #f3f4f6;
  color: #6b7280;
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 500;
}

.entry-description {
  color: #374151;
  line-height: 1.6;
  word-wrap: break-word;
}

.entry-changes {
  margin-top: 12px;
  padding: 12px;
  background: #f9fafb;
  border-radius: 6px;
  font-size: 13px;
}

.change-old,
.change-new {
  display: flex;
  gap: 8px;
  padding: 4px 0;
}

.change-label {
  font-weight: 600;
  color: #6b7280;
  min-width: 70px;
}

.change-value {
  color: #111827;
  font-family: 'Monaco', 'Courier New', monospace;
  word-break: break-all;
}

.change-old .change-value {
  text-decoration: line-through;
  color: #ef4444;
}

.change-new .change-value {
  color: #10b981;
}

/* Loading and Error States */
.audit-log-loading,
.audit-log-error,
.no-logs {
  text-align: center;
  padding: 40px 20px;
  color: #6b7280;
  font-size: 14px;
}

.audit-log-error {
  color: #ef4444;
}

/* Compact Mode for Sidebar */
.audit-log-container.compact {
  padding: 0;
  box-shadow: none;
  border-radius: 0;
  background: transparent;
  margin-top: 0;
}

.audit-log-timeline.compact {
  padding: 0;
}

.audit-log-timeline.compact::before {
  left: 8px;
}

.audit-log-entry.compact {
  padding: 8px 0;
  gap: 8px;
}

.entry-icon.compact {
  width: 20px;
  height: 20px;
  font-size: 12px;
  border-width: 1px;
}

.entry-content.compact {
  font-size: 13px;
}

.entry-description.compact {
  font-size: 13px;
  line-height: 1.4;
  margin-bottom: 4px;
}

.entry-timestamp.compact {
  font-size: 11px;
  color: #9ca3af;
}

.audit-log-loading,
.no-logs {
  font-size: 13px;
  padding: 16px;
}

/* Responsive Design */
@media (max-width: 768px) {
  .audit-log-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 16px;
  }

  .audit-log-controls {
    width: 100%;
    flex-direction: column;
    align-items: stretch;
  }

  .btn-add-note {
    width: 100%;
    text-align: center;
  }

  .entry-header {
    flex-direction: column;
  }

  .entry-meta {
    flex-direction: column;
    align-items: flex-start;
  }

  .form-actions {
    flex-direction: column-reverse;
  }

  .btn-primary,
  .btn-secondary {
    width: 100%;
  }
}